## Connect GitLab Repoistory To Terraform Cloud

Connect GitLab repository `$DEMO_HOME` with Terraform Cloud using the **Workspace** --> **Settings** --> **Version Control**,

![Terraform Cloud Version Control](/docs/images/tfcloud-vcs.png)

Once you have connected your repo with Terraform cloud assuming you are using default settings, every push the GitLab repo will trigger a terraform `apply`.

>**NOTE**: Adjust other settings nameley `VCS Trigger`, `Apply Method` etc., as per your needs.

## Configure GitLab Trigger

Navigate to Project --> **Settings** --> **CI/CD** --> Expand **Triggers**,

![add trigger](/docs/images/add-trigger-1.png)

Copy the webhook url you will need to configure the Terraform Cloud Notification in next step,

![copy webhook](/docs/images/copy-webhook.png)

## Configure Terraform Notification

Navigate to your workspace in Terraform cloud. Navigate to **Settings** --> **Notification**, create **Webhook** notification,

![terraform create webhook notification](/docs/images/tf-webhook-notification.png.png)

Fill the details of notification,

![terraform webhook notification](/docs/images/tf-webhook-notification-details.png)

>**NOTE**: The `Webhook URL` is the `Trigger Webhook` URL copied from from GitLab Trigger creation.

**Congratulations!**, Now doing any push to your GitLab repo will trigger a terraform deployment. Once the terraform deployment is successful it will trigger GitLab CI pipeline job `bootstrap_flux` which will deploy fluxcd on to GKE cluster, making you GitOps ready!!!.
